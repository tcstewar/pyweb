<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/pyweb.css"/>
    <script src="js/jquery-3.5.0.min.js"></script>
    <script type="text/javascript">
      window.languagePluginUrl = 'pyodide/'
    </script>  
    <script src="pyodide/pyodide_dev.js"></script>
  </head>
  <body>
    <script>
      function reload() {
        $.get({url: 'splendor.py', cache:false}).then((code) => {
            $('#btn_reload').prop('disabled', true);        
            pyodide.runPython(code);
            act = pyodide.pyimport('act');
        }).always(() => {
            $('#btn_reload').prop('disabled', false);        
        });
      }
      languagePluginLoader.then(reload);
      
      function query(x) {
          return $(x);
      }
    </script>
    
    <div id="toolbar">
        <button id="btn_reload" type="button" onclick='reload();' disabled="true">Reload</button>
    </div>    
    <div id="content">
        <div id="board"></div>
        <div id="actions"></div>
    </div>
  </body>
</html>
